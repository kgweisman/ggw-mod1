---
title: "ggw-rep01_formatting"
author: "Kara Weisman"
date: "March 2, 2015"
output: html_document
---

# Setup

```{r libraries}
library(dplyr)
library(tidyr)
library(ggplot2)
library(lme4)
```

# Getting data into tidy format: .csv -> JSON -> R

```{r formatting}
# read in anonymized dataset from turk
d <- read.csv("./data/pilot-b_01/HITResultsFor31ODACBENUFVTMQTJKSDHD7NQGWSQV_anonymized.csv")


### code from mike...###
files <- dir("production-results/e3/")
d.raw <- data.frame()

for (f in files) {
  jf <- paste("production-results/e3/",f,sep="")
  jd <- fromJSON(paste(readLines(jf), collapse=""))
  id <- data.frame(workerid = jd$WorkerId,
                   scale = jd$answer$scale,
                   domain = jd$answer$domain,
                   knowledge = jd$answer$manipulation_level,
                   judgment = as.numeric(jd$answer$judgment)==1,
                   language = jd$answer$language)
  d.raw <- bind_rows(d.raw, id)
}



```

